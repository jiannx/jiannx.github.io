# 博客网站重构需求文档

## 设计风格参考

基于提供的截图，目标风格为：
- 极简主义设计
- 大量留白
- 清晰的排版层次
- 中文内容优先
- 黑白灰为主色调，少量点缀色

## 一、项目目标

打造一个简单、优雅、易维护的个人博客网站，注重细节和用户体验。

## 二、技术栈

- **框架**: Next.js 14 (App Router)
- **样式**: Tailwind CSS (保持简洁)
- **内容管理**: 基于文件系统，从 `posts/` 目录解析 Markdown
- **主题切换**: next-themes (黑白模式)
- **部署**: 静态导出 (Static Export)

## 三、项目结构设计

```
jiannx.github.io/
├── src/
│   ├── app/
│   │   ├── layout.tsx              # 全局布局
│   │   ├── page.tsx                # 首页
│   │   ├── records/                # 记录（文章列表）
│   │   │   ├── page.tsx            # 文章列表页
│   │   │   └── [slug]/             # 文章详情页
│   │   │       └── page.tsx
│   │   ├── moments/                # 时刻（照片展示）
│   │   │   └── page.tsx
│   │   └── about/                  # 关于
│   │       └── page.tsx
│   ├── components/
│   │   ├── Header.tsx              # 顶栏导航
│   │   ├── Footer.tsx              # 页脚
│   │   ├── ThemeToggle.tsx         # 黑白模式切换
│   │   ├── ArticleCard.tsx         # 文章卡片
│   │   ├── MomentCard.tsx          # 时刻卡片
│   │   ├── Pagination.tsx          # 分页组件
│   │   └── MarkdownRenderer.tsx    # Markdown 渲染
│   ├── lib/
│   │   ├── posts.ts                # 文章解析逻辑
│   │   └── moments.ts              # 时刻解析逻辑
│   └── styles/
│       └── globals.css
├── posts/                          # 内容目录（从个人知识库同步）
│   ├── 2018/                       # 按年份组织
│   │   ├── article-1.md
│   │   └── article-2.md
│   ├── 2019/
│   ├── 2020/
│   └── moments/                    # 时刻（可选，或混合在年份中）
│       ├── 2024-01-01-moment.md
│       └── 2024-01-02-moment.md
├── public/
│   └── images/                     # 图片资源
└── tailwind.config.js
```

**说明：**
- `posts/` 目录保持现有的按年份文件夹组织结构
- 文章从个人知识库同步而来，保持原有目录结构
- 解析逻辑需要递归扫描所有年份文件夹

## 四、内容格式设计

### 4.1 文章 Markdown 格式 (`posts/articles/`)

```markdown
---
title: "文章标题"
date: "2024-01-01"
tags: ["标签1", "标签2", "标签3"]
description: "文章简短描述"
---

# 正文内容

文章内容...
```

### 4.2 时刻 Markdown 格式 (`posts/moments/`)

```markdown
---
date: "2024-01-01"
images: ["/images/moment-1.jpg", "/images/moment-2.jpg"]
description: "时刻描述文字"
location: "地点（可选）"
---

详细描述内容（可选）
```

## 五、功能需求详细说明

### 5.1 顶栏导航 (Header)

**布局：**
- 左侧：网站标题/Logo
- 右侧：导航链接 + 主题切换按钮

**导航项：**
1. 记录 (`/records`) - 文章列表
2. 时刻 (`/moments`) - 照片展示
3. 关于 (`/about`) - 个人信息

**交互细节：**
- 当前页面高亮显示（使用 #D23669）
- 滚动时固定在顶部或半透明显示
- 移动端响应式菜单（汉堡菜单）

### 5.3 页脚 (Footer)

**内容：**
- Copyright 信息：© 2026 [你的名字]. All rights reserved.
- 可选链接：
  - RSS 订阅
  - 社交媒体图标
  - 网站统计（可选）
- ICP 4案信息（如需要）

**样式：**
- 简洁设计，与整体风格一致
- 文字使用次要颜色（灰色）
- 适当的上边距分隔
- 固定高度，不占用过多空间

**布局：**
- 居中对齐
- 单行或两行布局
- 移动端堆叠显示

### 5.2 首页 (Home)

**布局：**
- 居中大标题："视融说。"（参考截图风格）
- 副标题/个人介绍
- 最新文章列表（3-5篇）
- 最新时刻（2-3个）

### 5.3 记录页面 (`/records`)

**功能需求：**
- 文章列表展示
- 每篇文章显示：
  - 标题
  - 发布时间
  - 标签
  - 摘要/描述
- 分页功能（每页 10-15 篇）
- 标签筛选（可选）
- 按时间倒序排列

**交互：**
- 点击文章跳转到详情页
- 点击标签筛选相同标签的文章

### 5.5 文章详情页 (`/records/[slug]`)

**布局：**
- 文章标题
- 发布时间和标签
- 正文内容（Markdown 渲染）
- 上一篇/下一篇导航（可选）

**样式要求：**
- 优秀的排版（行高、字间距）
- 代码高亮
- 图片居中显示
- 引用样式美化

### 5.6 时刻页面 (`/moments`)

**布局：**
- 瀑布流或网格布局
- 每个时刻卡片包含：
  - 照片（1张或多张）
  - 描述文字
  - 发布时间
  - 地点（如有）

**交互：**
- 点击照片放大查看
- 支持多图滑动查看
- 时间线倒序排列

### 5.7 关于页面 (`/about`)

**内容：**
- 个人介绍
- 联系方式
- 社交媒体链接
- 其他信息

### 5.8 主题切换

**功能：**
- 黑白两种模式
- 记住用户选择（localStorage）
- 跟随系统主题（可选）

**配色方案：**

主色调（强调色）：
- Primary: #D23669 (用于突出重点、链接、标题等)

白天模式：
- 背景：#FFFFFF
- 文字：#1A1A1A
- 次要文字：#666666
- 边框：#E5E5E5
- 强调色：#D23669

黑夜模式：
- 背景：#1A1A1A
- 文字：#E5E5E5
- 次要文字：#999999
- 边框：#333333
- 强调色：#D23669 (或稍浅 #E84A7A)

## 六、设计细节

### 6.1 排版规范

- **标题字体**：思源黑体 / Noto Sans SC
- **正文字体**：思源宋体 / Noto Serif SC
- **代码字体**：Fira Code / JetBrains Mono
- **字号**：
  - H1: 2.5rem (40px)
  - H2: 2rem (32px)
  - H3: 1.5rem (24px)
  - 正文: 1rem (16px)
  - 小字: 0.875rem (14px)
- **行高**：1.8 (正文)
- **最大内容宽度**：680px (参考截图)

### 6.2 间距规范

- 页面上下边距：80px
- 内容块间距：40px
- 段落间距：20px
- 行内元素间距：8px

### 6.3 色彩使用规范

**主色调 (#D23669) 使用场景：**
- 导航栏当前页面高亮
- 文章标题（hover 状态）
- 链接颜色
- 按钮和 CTA
- 标签高亮
- 重要图标
- 引用边框

**使用原则：**
- 克制使用，避免过度
- 保持黑白灰为主，#D23669 为点缀
- 在黑白模式下都要清晰可见

### 6.4 响应式设计

**断点：**
- Mobile: < 640px
- Tablet: 640px - 1024px
- Desktop: > 1024px

**适配策略：**
- 移动端单列布局
- 平板端适当增加间距
- 桌面端居中布局，固定最大宽度

## 七、性能优化

1. **图片优化**：使用 Next.js Image 组件
2. **代码分割**：动态导入非首屏组件
3. **静态生成**：所有页面静态生成 (SSG)
4. **字体优化**：使用 next/font 优化字体加载

## 八、内容组织策略

### 8.1 现有文章处理

**保持现有结构：**
- `posts/2018/`, `posts/2019/`, `posts/2020/` 等按年份组织
- 文章从个人知识库同步，保持原有文件名和结构
- 无需移动或重命名文件

**添加 frontmatter：**
为现有文章添加 frontmatter（如果没有）：
```markdown
---
title: "文章标题"
date: "2024-01-01"
tags: ["标签1", "标签2"]
---
```

**解析逻辑：**
- 递归扫描 `posts/` 下所有年份文件夹
- 自动提取文件名和路径信息
- 支持有无 frontmatter 的文章

### 8.2 时刻内容

**组织方式（二选一）：**

方案 1：独立 moments 文件夹
```
posts/
  └── moments/
      ├── 2024-01-01-moment.md
      └── 2024-01-02-moment.md
```

方案 2：混合在年份文件夹中
```
posts/
  └── 2024/
      ├── article-1.md
      └── moment-2024-01-01.md  # 通过 frontmatter 区分类型
```

推荐使用方案 1，清晰分离文章和时刻。

## 九、开发计划（待执行）

### Phase 1: 基础架构
- [ ] 清理现有组件
- [ ] 创建新的项目结构
- [ ] 设置 Tailwind 配置
- [ ] 实现主题切换

### Phase 2: 内容解析
- [ ] 实现文章解析逻辑
- [ ] 实现时刻解析逻辑
- [ ] 内容迁移和格式化

### Phase 3: 页面开发
- [ ] 顶栏导航组件
- [ ] 首页
- [ ] 记录列表页
- [ ] 文章详情页
- [ ] 时刻页面
- [ ] 关于页面

### Phase 4: 细节优化
- [ ] 排版细节调整
- [ ] 动画和过渡效果
- [ ] 性能优化
- [ ] 响应式适配

### Phase 5: 测试和部署
- [ ] 内容测试
- [ ] 浏览器兼容性测试
- [ ] 构建和部署

## 十、注意事项

1. **保持简单**：避免过度设计，专注核心功能
2. **细节至上**：注重排版、间距、字体等视觉细节
3. **可维护性**：代码结构清晰，便于长期维护
4. **性能优先**：确保快速加载和流畅体验
5. **内容为王**：设计服务于内容展示

## 十一、参考资源

- 设计灵感：参考截图中的极简风格
- 排版规范：中文排版指北
- Tailwind CSS 文档
- Next.js 14 文档
- react-markdown / remark 生态

---

**文档创建时间**: 2026-01-01
**最后更新**: 2026-01-01
